"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),CanvasSequence=function(){function e(t,n,i,s,a){_classCallCheck(this,e),this.sequence=[],this.canvas=document.getElementById(t),this.context=this.canvas.getContext("2d"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.sequencePath=n,this.sequenceLength=i,this.fileType=s||".png",this.scrollHeight=document.body.scrollHeight,this.scrollOffset=document.body.scrollTop,this.clientHeight=window.innerHeight,this.loadCallback=a||function(){},this.loadSequence()}return _createClass(e,[{key:"addLeadingZeros",value:function(e){for(var t=this.sequenceLength.toString().length,n=(e>0?e:-e)+"",i="",s=t-n.length;s>0;s--)i+="0";return i+=n,e>=0?i:"-"+i}},{key:"loadSequence",value:function(){for(var e=this,t=0;t<this.sequenceLength;t++){var n=this.addLeadingZeros(t),i=this.sequencePath+n+this.fileType,s=new Image;s.src=i,s.onload=function(){e.loadedCounter++,e.loadedCounter===e.sequenceLength&&(e.loadCallback(),e.renderFrame())},this.sequence.push(s)}}},{key:"getNextFrameNumber",value:function(){var e=this.scrollOffset/(this.scrollHeight-this.clientHeight)*100,t=Math.round(e*this.sequenceLength/100);return t}},{key:"syncScrollPosition",value:function(){this.scrollOffset=document.body.scrollTop}},{key:"drawImage",value:function(e){e>=0&&e<this.sequence.length&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.sequence[e].complete?this.context.drawImage(this.sequence[e],0,0,this.canvas.width,this.canvas.height):console.log("The current frame has not been loaded. Please ensure all images are loaded before updating the canvas."))}},{key:"renderFrame",value:function(){var e=this;this.syncScrollPosition(),requestAnimationFrame(function(){e.renderFrame()}),this.previousFrame=this.currentFrame,this.currentFrame=this.getNextFrameNumber(),(this.currentFrame!=this.previousFrame||this.firstLoad)&&this.drawImage(this.currentFrame),this.firstLoad=!1}}]),e}();window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}()),"function"==typeof define&&define.amd?define("CanvasSequence",CanvasSequence):"undefined"!=typeof module&&module.exports?module.exports=CanvasSequence:window.CanvasSequence=CanvasSequence;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhc1NlcXVlbmNlLmpzIl0sIm5hbWVzIjpbIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiQ2FudmFzU2VxdWVuY2UiLCJjYW52YXMiLCJzZXF1ZW5jZVBhdGgiLCJzZXF1ZW5jZUxlbmd0aCIsImZpbGVUeXBlIiwibG9hZENhbGxiYWNrIiwidGhpcyIsInNlcXVlbmNlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJib2R5Iiwic2Nyb2xsT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwibG9hZFNlcXVlbmNlIiwidmFsdWUiLCJuIiwidG9TdHJpbmciLCJzdHIiLCJ6ZXJvcyIsIl90aGlzIiwiZnJhbWVOdW1iZXIiLCJhZGRMZWFkaW5nWmVyb3MiLCJmaWxlbmFtZSIsImltZyIsIkltYWdlIiwic3JjIiwib25sb2FkIiwibG9hZGVkQ291bnRlciIsInJlbmRlckZyYW1lIiwicHVzaCIsInNjcm9sbFBlcmNlbnRhZ2UiLCJjdXJyZW50RnJhbWVOdW1iZXIiLCJNYXRoIiwicm91bmQiLCJmcmFtZSIsImNsZWFyUmVjdCIsImNvbXBsZXRlIiwiZHJhd0ltYWdlIiwiY29uc29sZSIsImxvZyIsIl90aGlzMiIsInN5bmNTY3JvbGxQb3NpdGlvbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByZXZpb3VzRnJhbWUiLCJjdXJyZW50RnJhbWUiLCJnZXROZXh0RnJhbWVOdW1iZXIiLCJmaXJzdExvYWQiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsImVsZW1lbnQiLCJzZXRUaW1lb3V0IiwiZGVmaW5lIiwiYW1kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FGaEgsR0FBSUMsY0FBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUFPRCxFQUFXRSxjQUFlLEVBQVUsU0FBV0YsS0FBWUEsRUFBV0csVUFBVyxHQUFNQyxPQUFPQyxlQUFlVCxFQUFRSSxFQUFXTSxJQUFLTixJQUFpQixNQUFPLFVBQVVSLEVBQWFlLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZWixFQUFpQkgsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhYixFQUFpQkgsRUFBYWdCLEdBQXFCaEIsTUFGM2hCa0IsZUFBYyxXQUVMLFFBRlRBLEdBRVVDLEVBQVFDLEVBQWNDLEVBQWdCQyxFQUFVQyxHQU14RHpCLGdCQUFnQjBCLEtBUmxCTixHQUlFTSxLQUFLQyxZQUVMRCxLQUFLTCxPQUFTTyxTQUFTQyxlQUFlUixHQUN0Q0ssS0FBS0ksUUFBVUosS0FBS0wsT0FBT1UsV0FBVyxNQUV0Q0wsS0FBS0wsT0FBT1csTUFBUUMsT0FBT0MsV0FDM0JSLEtBQUtMLE9BQU9jLE9BQVNGLE9BQU9HLFlBRTVCVixLQUFLSixhQUFlQSxFQUNwQkksS0FBS0gsZUFBaUJBLEVBRXRCRyxLQUFLRixTQUFXQSxHQUFZLE9BRTVCRSxLQUFLVyxhQUFlVCxTQUFTVSxLQUFLRCxhQUNsQ1gsS0FBS2EsYUFBZVgsU0FBU1UsS0FBS0UsVUFDbENkLEtBQUtlLGFBQWVSLE9BQU9HLFlBRTNCVixLQUFLRCxhQUFlQSxHQUFnQixhQUVwQ0MsS0FBS2dCLGVBeUZULE1BaEZBdEMsY0FoQ0VnQixJQWlDRUosSUFBSyxrQkFDTDJCLE1BUlcsU0FBQ0MsR0FJWixJQUFLLEdBSERuQyxHQUFTaUIsS0FBS0gsZUFBZXNCLFdBQVdwQyxPQUN4Q3FDLEdBQU9GLEVBQUksRUFBSUEsR0FBS0EsR0FBSyxHQUN6QkcsRUFBUSxHQUNIdkMsRUFBSUMsRUFBU3FDLEVBQUlyQyxPQUFRRCxFQUFJLEVBQUdBLElBQ3JDdUMsR0FBUyxHQUViLE9BREFBLElBQVNELEVBQ0ZGLEdBQUssRUFBSUcsRUFBUSxJQUFNQSxLQVU5Qi9CLElBQUssZUFDTDJCLE1BUlEsV0FFUixJQUFJLEdBT0lLLEdBQVF0QixLQVBSbEIsRUFBSSxFQUFHQSxFQUFJa0IsS0FBS0gsZUFBZ0JmLElBQUssQ0FFekMsR0FBSXlDLEdBQWN2QixLQUFLd0IsZ0JBQWdCMUMsR0FDbkMyQyxFQUFXekIsS0FBS0osYUFBZTJCLEVBQWN2QixLQUFLRixTQUNsRDRCLEVBQU0sR0FBSUMsTUFDZEQsR0FBSUUsSUFBTUgsRUFFVkMsRUFBSUcsT0FBUyxXQUNaUCxFQUFLUSxnQkFDRlIsRUFBS1EsZ0JBQWtCUixFQUFLekIsaUJBQy9CeUIsRUFBS3ZCLGVBQ0x1QixFQUFLUyxnQkFJTi9CLEtBQUtDLFNBQVMrQixLQUFLTixPQWF2QnBDLElBQUsscUJBQ0wyQixNQVZjLFdBQ2QsR0FBSWdCLEdBQW1CakMsS0FBTWEsY0FBY2IsS0FBS1csYUFBYVgsS0FBS2UsY0FBZSxJQUM3RW1CLEVBQXFCQyxLQUFLQyxNQUFNSCxFQUFpQmpDLEtBQUtILGVBQWUsSUFDekUsT0FBT3FDLE1BYVA1QyxJQUFLLHFCQUNMMkIsTUFYYyxXQUNkakIsS0FBS2EsYUFBZVgsU0FBU1UsS0FBS0UsYUFjbEN4QixJQUFLLFlBQ0wyQixNQVpLLFNBQUNvQixHQUVIQSxHQUFTLEdBQUtBLEVBQVFyQyxLQUFLQyxTQUFTbEIsU0FDbkNpQixLQUFLSSxRQUFRa0MsVUFBVSxFQUFHLEVBQUd0QyxLQUFLTCxPQUFPVyxNQUFPTixLQUFLTCxPQUFPYyxRQUN6RFQsS0FBS0MsU0FBU29DLEdBQU9FLFNBQ3BCdkMsS0FBS0ksUUFBUW9DLFVBQVV4QyxLQUFLQyxTQUFTb0MsR0FBUSxFQUFHLEVBQUdyQyxLQUFLTCxPQUFPVyxNQUFPTixLQUFLTCxPQUFPYyxRQUVsRmdDLFFBQVFDLElBQUksOEdBaUJwQnBELElBQUssY0FDTDJCLE1BWk8sV0FhSCxHQUFJMEIsR0FBUzNDLElBWGpCQSxNQUFLNEMscUJBRUxDLHNCQUFzQixXQUNsQkYsRUFBS1osZ0JBR1QvQixLQUFLOEMsY0FBZ0I5QyxLQUFLK0MsYUFDMUIvQyxLQUFLK0MsYUFBZS9DLEtBQUtnRCxzQkFFckJoRCxLQUFNK0MsY0FBZ0IvQyxLQUFLOEMsZUFBa0I5QyxLQUFLaUQsWUFDbERqRCxLQUFLd0MsVUFBVXhDLEtBQUsrQyxjQUd4Qi9DLEtBQUtpRCxXQUFZLE1BL0ZuQnZELElBb0dEYSxRQUFPc0Msd0JBQ1J0QyxPQUFPc0Msc0JBQXdCLFdBQzNCLE1BQU90QyxRQUFPMkMsNkJBQ1YzQyxPQUFPNEMsMEJBQ1A1QyxPQUFPNkMsd0JBQ1A3QyxPQUFPOEMseUJBQ1AsU0FBOENDLEVBQW1DQyxHQUM3RWhELE9BQU9pRCxXQUFXRixFQUFVLElBQU8sU0FLN0Isa0JBQVhHLFNBQXlCQSxPQUFPQyxJQUN2Q0QsT0FBTyxpQkFBa0IvRCxnQkFDQSxtQkFBWGlFLFNBQTBCQSxPQUFPQyxRQUMvQ0QsT0FBT0MsUUFBVWxFLGVBRWpCYSxPQUFPYixlQUFpQkEiLCJmaWxlIjoiY2FudmFzU2VxdWVuY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYW52YXNTZXF1ZW5jZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIHNlcXVlbmNlUGF0aCwgc2VxdWVuY2VMZW5ndGgsIGZpbGVUeXBlLCBsb2FkQ2FsbGJhY2spIHtcblxuICAgICAgICB0aGlzLnNlcXVlbmNlID0gW107XG5cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXMpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICB0aGlzLnNlcXVlbmNlUGF0aCA9IHNlcXVlbmNlUGF0aDtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZUxlbmd0aCA9IHNlcXVlbmNlTGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuZmlsZVR5cGUgPSBmaWxlVHlwZSB8fCAnLnBuZyc7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDtcbiAgICAgICAgdGhpcy5zY3JvbGxPZmZzZXQgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5sb2FkQ2FsbGJhY2sgPSBsb2FkQ2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcblxuICAgICAgICB0aGlzLmxvYWRTZXF1ZW5jZSgpO1xuICAgIH1cblxuICAgIGFkZExlYWRpbmdaZXJvcyhuKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnNlcXVlbmNlTGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgICB2YXIgc3RyID0gKG4gPiAwID8gbiA6IC1uKSArIFwiXCI7XG4gICAgICAgIHZhciB6ZXJvcyA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSBzdHIubGVuZ3RoOyBpID4gMDsgaS0tKVxuICAgICAgICAgICAgemVyb3MgKz0gXCIwXCI7XG4gICAgICAgIHplcm9zICs9IHN0cjtcbiAgICAgICAgcmV0dXJuIG4gPj0gMCA/IHplcm9zIDogXCItXCIgKyB6ZXJvcztcbiAgICB9XG5cbiAgICBsb2FkU2VxdWVuY2UoKSB7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2VxdWVuY2VMZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgZnJhbWVOdW1iZXIgPSB0aGlzLmFkZExlYWRpbmdaZXJvcyhpKTtcbiAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9IHRoaXMuc2VxdWVuY2VQYXRoICsgZnJhbWVOdW1iZXIgKyB0aGlzLmZpbGVUeXBlO1xuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBmaWxlbmFtZTtcblxuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICB0aGlzLmxvYWRlZENvdW50ZXIrKztcbiAgICAgICAgICAgICBpZih0aGlzLmxvYWRlZENvdW50ZXIgPT09IHRoaXMuc2VxdWVuY2VMZW5ndGgpIHtcbiAgICAgICAgICAgICB0aGlzLmxvYWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZS5wdXNoKGltZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROZXh0RnJhbWVOdW1iZXIoKSB7XG4gICAgICAgIHZhciBzY3JvbGxQZXJjZW50YWdlID0gKHRoaXMuc2Nyb2xsT2Zmc2V0Lyh0aGlzLnNjcm9sbEhlaWdodC10aGlzLmNsaWVudEhlaWdodCkpKjEwMDtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFtZU51bWJlciA9IE1hdGgucm91bmQoc2Nyb2xsUGVyY2VudGFnZSp0aGlzLnNlcXVlbmNlTGVuZ3RoLzEwMCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50RnJhbWVOdW1iZXI7XG4gICAgfVxuXG4gICAgc3luY1Njcm9sbFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgIH1cblxuICAgIGRyYXdJbWFnZShmcmFtZSkge1xuXG4gICAgICAgIGlmKGZyYW1lID49IDAgJiYgZnJhbWUgPCB0aGlzLnNlcXVlbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGlmKHRoaXMuc2VxdWVuY2VbZnJhbWVdLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnNlcXVlbmNlW2ZyYW1lXSwgMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIGN1cnJlbnQgZnJhbWUgaGFzIG5vdCBiZWVuIGxvYWRlZC4gUGxlYXNlIGVuc3VyZSBhbGwgaW1hZ2VzIGFyZSBsb2FkZWQgYmVmb3JlIHVwZGF0aW5nIHRoZSBjYW52YXMuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlckZyYW1lKCkge1xuXG4gICAgICAgIHRoaXMuc3luY1Njcm9sbFBvc2l0aW9uKCk7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gdGhpcy5nZXROZXh0RnJhbWVOdW1iZXIoKTtcblxuICAgICAgICBpZiggKHRoaXMuY3VycmVudEZyYW1lICE9IHRoaXMucHJldmlvdXNGcmFtZSkgfHwgdGhpcy5maXJzdExvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0ltYWdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyc3RMb2FkID0gZmFsc2U7XG4gICAgfVxuXG59XG5cbmlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IC8vIGNvbW1lbnQgb3V0IGlmIEZGNCBpcyBzbG93IChpdCBjYXBzIGZyYW1lcmF0ZSBhdCB+MzBmcHM6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYzMDEyNylcbiAgICAgICAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCAvKiBmdW5jdGlvbiBGcmFtZVJlcXVlc3RDYWxsYmFjayAqLyBjYWxsYmFjaywgLyogRE9NRWxlbWVudCBFbGVtZW50ICovIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICAgIH07XG4gICAgfSkoKTtcbn1cblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgnQ2FudmFzU2VxdWVuY2UnLCBDYW52YXNTZXF1ZW5jZSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDYW52YXNTZXF1ZW5jZTtcbn0gZWxzZSB7XG4gICAgd2luZG93LkNhbnZhc1NlcXVlbmNlID0gQ2FudmFzU2VxdWVuY2U7XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9